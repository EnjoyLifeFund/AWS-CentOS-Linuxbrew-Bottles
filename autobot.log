==> Installing mesa from linuxbrew/xorg
==> Upgrading 1 outdated package, with result:
linuxbrew/xorg/mesa 17.1.6
==> Upgrading linuxbrew/xorg/mesa 
==> Installing dependencies for linuxbrew/xorg/mesa: freetype, fontconfig, flex, glib, systemd, llvm
==> Installing linuxbrew/xorg/mesa dependency: freetype
==> Downloading https://downloads.sourceforge.net/project/freetype/freetype2/2.8.1/freetype-2.8.1.tar.bz2
Already downloaded: /home/ec2-user/.cache/Homebrew/freetype-2.8.1.tar.bz2
==> ./configure --prefix=/home/linuxbrew/.linuxbrew/Cellar/freetype/2.8.1 --without-harfbuzz
Last 15 lines from /home/ec2-user/.cache/Homebrew/Logs/freetype/01.configure:
* module: psnames   (Postscript & Unicode Glyph name handling)
done.
cd builds/unix; \
        ./configure  '--prefix=/home/linuxbrew/.linuxbrew/Cellar/freetype/2.8.1' '--without-harfbuzz'
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking for gcc... gcc-7
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... configure: error: in `/tmp/freetype-20170918-7404-uyf52c/freetype-2.8.1/builds/unix':
configure: error: cannot run C compiled programs.
If you meant to cross compile, use `--host'.
See `config.log' for more details
make: *** [setup] Error 1

READ THIS: https://github.com/Linuxbrew/brew/blob/master/docs/Troubleshooting.md#troubleshooting
Please do not report this issue to Homebrew/brew or Homebrew/core, which support macOS only.

These open issues may also help:
freetype: Build a bottle for Linuxbrew https://github.com/Linuxbrew/homebrew-core/pull/4339

